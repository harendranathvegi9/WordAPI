{% extends "frontend/base.html" %}

{% block custom_style %}
{{ style|safe }}
{% endblock %}

{% block page_title %} - TagCloud{% endblock %}

{% block custom_js %}
<script type="text/javascript">
$(document).ready(function() {

    $("#save-box").dialog({
        autoOpen: false,
        width: 350,
        model: true,
        buttons : {
            'Create!' : function() { 
                // check validity of arguments
                // submit the form
                $('#save-form').submit();
            },
            'Cancel' : function() {
                $(this).dialog("close");
            }
        }, 
        close: function() {
            allFields.val('');
        }
    });
    $("#save-cloud").button().click(function() {
        $("#save-box").dialog("open");
    });
});
</script>
{% endblock %}

{% block content %}
<div id="save-box">
<form id="save-form" action="save" method="POST">
{% csrf_token %}
<label for="name">Name your cloud (optional)</label>
<input type="text" name="name"><br>
<fieldset id="update-type">
<input type="radio" name="update" value="static" checked="yes">Static
<input type="radio" name="update" value="dynamic">Dynamic<br>
<p>A static cloud stays the same as you see it right now. A dynamic cloud will
update every time you visit it.</p> 
</fieldset>
<input type="hidden" name="cloud_id" value="{{ cloud_id }}">
</form>
</div>
<div id="tagcloud_wrapper">
{{ body|safe }}
</div>

<div id="infobox">
<div class=info" id="tagurl">
<p>This tag cloud was generated with the following (encoded) url:<br/>
<a href="{{ generator_url }}">{{ generator_url_display|safe }}</a></p>
</div>
<div class="info">
Create a short url for this cloud and share! 
<button id="save-cloud">Save This Cloud</button>
<a href="save">Static</a> | <a href="">Dynamic</a> (for url-based clouds only)
</div>
</div>

{% endblock %}
